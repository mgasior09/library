<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <title>Volumes</title>
</head>
<body>
<div align="center">
    <form action="/logout" style="float: right">
        <input type="submit" value="Log out">
    </form>
    <br/>
    <h1>Volumes</h1>
    <div th:if="${not #lists.isEmpty(volumesList)}">
        <table border="1">
            <tr>
                <th>Book</th>
                <th>Hard Cover</th>
                <th>Rented</th>
                <th>Added</th>
                <th>Modified</th>
                <th>Reserved</th>
                <th>Reservation</th>
                <div sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_WORKER')">
                <th>Delete</th>
                </div>
            </tr>
            <tr th:each="volume : ${volumesList}" th:object="${volume}">
                <td th:text="*{release.book.title}"/>
                <td th:text="*{hardCover}"/>
                <td th:text="*{rented}"/>
                <td th:text="*{added}"/>
                <td th:text="*{modified}"/>
                <td th:text="*{reserved}"/>
                <div sec:authorize="hasRole('ROLE_USER')">
                    <td><a th:href="@{reserve/{volumeId}(volumeId=*{id})}"
                           th:text="Reserve"/></td>
                </div>
                <div sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_WORKER')">
                    <td><a th:href="@{rent/{volumeId}(volumeId=*{id})}"
                           th:text="Confirm_rent"/></td>
                    <td><a th:href="@{delete/{volumeId}(volumeId=*{id})}"
                           th:text="Delete"/></td>
                </div>

            </tr>
        </table>
    </div>
    <br/>
    <div th:if="${#lists.isEmpty(volumesList)}">
        The are no volumes for this release.
    </div>
    <br/>
    <button type="button" onclick="javascript:history.back()">Return to previous page</button>
    <br/>
</div>
</body>
</html>